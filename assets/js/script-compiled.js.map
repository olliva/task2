{"version":3,"sources":["script.js"],"names":[],"mappings":"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","file":"script-compiled.js","sourcesContent":["/**\n * Реализация API, не изменяйте ее\n * @param {string} url\n * @param {function} callback\n */\nfunction getData(url, callback) {\n    var RESPONSES = {\n        '/countries': [\n            {name: 'Cameroon', continent: 'Africa'},\n            {name: 'Fiji Islands', continent: 'Oceania'},\n            {name: 'Guatemala', continent: 'North America'},\n            {name: 'Japan', continent: 'Asia'},\n            {name: 'Yugoslavia', continent: 'Europe'},\n            {name: 'Tanzania', continent: 'Africa'}\n        ],\n        '/cities': [\n            {name: 'Bamenda', country: 'Cameroon'},\n            {name: 'Suva', country: 'Fiji Islands'},\n            {name: 'Quetzaltenango', country: 'Guatemala'},\n            {name: 'Osaka', country: 'Japan'},\n            {name: 'Subotica', country: 'Yugoslavia'},\n            {name: 'Zanzibar', country: 'Tanzania'}\n        ],\n        '/populations': [\n            {count: 138000, name: 'Bamenda'},\n            {count: 77366, name: 'Suva'},\n            {count: 90801, name: 'Quetzaltenango'},\n            {count: 2595674, name: 'Osaka'},\n            {count: 100386, name: 'Subotica'},\n            {count: 157634, name: 'Zanzibar'}\n        ]\n    };\n\n    setTimeout(function () {\n        var result = RESPONSES[url];\n        if (!result) {\n            return callback('Unknown url');\n        }\n\n        callback(null, result);\n    }, Math.round(Math.random * 1000));\n}\n\n/**\n * Ваши изменения ниже\n */\n\nfunction getData2(url) {\n    return new Promise(function (resolve, reject) {\n        function callback(error, result) {\n            if (!error) {\n                resolve(result);\n                return;\n            }\n            reject(error);\n        }\n\n        getData(url, callback);\n    });\n}\n\nfunction getPopulation(countryOrCity, [allCities, populations]) {\n    var countryOrCityLower = countryOrCity.toLowerCase();\n\n    var cityNames = new Set(\n        allCities\n            .filter(c => c.country.toLowerCase() == countryOrCityLower || c.name.toLowerCase() == countryOrCityLower)\n            .map(c => c.name.toLowerCase()));\n\n    if (cityNames.length === 0) {\n        return undefined;\n    }\n\n    return populations\n        .filter(p => cityNames.has(p.name.toLowerCase()))\n        .reduce((sum, p) => sum + p.count, 0);\n}\n\nvar requests = ['/cities', '/populations'];\n\nPromise.all(requests.map(getData2))\n    .then(function (values) {\n        var countryOrCity = prompt('Get population of country/city\\nEnter country or city:', '');\n\n        if (!countryOrCity) {\n            alert('You haven\\'t entered any country/city');\n            return;\n        }\n\n        var population = getPopulation(countryOrCity, values);\n        if (population === undefined) {\n            alert(`We haven\\'t found any country or city matching ${countryOrCity}`);\n        }\n        else {\n            alert(`Total population in ${countryOrCity}: ${population}`);\n        }\n    })\n    .catch(() => alert(':(\\nSomething went wrong loading population data'));"]}